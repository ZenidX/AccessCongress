rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    // REGLAS TEMPORALES PARA IMPORTACIÓN
    // TODO: Cambiar a reglas más restrictivas en producción

    // Permitir lectura y escritura a participants
    match /participants/{participantId} {
      allow read: if true;  // Permitir lectura pública temporalmente
      allow write: if true; // Permitir escritura temporalmente para importación
    }

    // Permitir lectura y escritura a access_logs
    match /access_logs/{logId} {
      allow read: if true;
      allow write: if true;
    }

    // Por defecto, denegar acceso a otras colecciones
    match /{document=**} {
      allow read, write: if false;
    }
  }
}

// NOTA: Estas son reglas de desarrollo. Para producción, implementa:
// - Autenticación de usuarios
// - Validación de datos
// - Permisos basados en roles
// Ver INSTRUCCIONES_SETUP.md para reglas de producción recomendadas
